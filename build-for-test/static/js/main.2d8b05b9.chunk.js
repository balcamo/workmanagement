(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,t,r){e.exports=r(59)},40:function(e,t,r){},53:function(e,t,r){},59:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),o=r(15),l=r.n(o),s=(r(40),r(9)),i=r(10),c=r(12),u=r(11),d=r(13),m=r(4),p=r(20),h=r(14),O=r(8),b=function(e){function t(e){var r;return Object(s.a)(this,t),(r=Object(c.a)(this,Object(u.a)(t).call(this,e))).toggle=r.toggle.bind(Object(O.a)(r)),r.state={dropdownOpen:!1},r}return Object(d.a)(t,e),Object(i.a)(t,[{key:"toggle",value:function(){this.setState({dropdownOpen:!this.state.dropdownOpen})}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(m.f,{pills:!0},a.a.createElement(m.g,null,a.a.createElement(m.h,{href:"https://apiarytest-react-homepage.azurewebsites.net/"},a.a.createElement("span",{className:"fa fa-home fa-lg"})," Home "))))}}]),t}(n.Component),f=r(26),g=r.n(f),v=r(22),w=r.n(v),k=function(e){function t(e){var r;return Object(s.a)(this,t),(r=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={baseURL:"https://apiarytest-windows-ispringbrook.azurewebsites.net/api/workorder",selectedState:"In Progress",setState:!1,workOrderNums:[],orderFrom:"",orderTo:"",dropdownOpen:!1,setDropdownOpen:!1,isHidden:!0,returnedWorkOrders:[],reportURL:"https://apiarytest-linux-ireportwriter.azurewebsites.net/workOrders",workOrderPDF:null,modal:!1,report:"",reportScript:""},r.toggleDropDown=r.toggleDropDown.bind(Object(O.a)(r)),r.GetWorkOrders=r.GetWorkOrders.bind(Object(O.a)(r)),r.PrintWorkOrders=r.PrintWorkOrders.bind(Object(O.a)(r)),r.toggleModal=r.toggleModal.bind(Object(O.a)(r)),r}return Object(d.a)(t,e),Object(i.a)(t,[{key:"toggleModal",value:function(){this.setState({modal:!this.state.modal})}},{key:"toggleDropDown",value:function(){this.setState({dropdownOpen:!this.state.dropdownOpen})}},{key:"getData",value:function(){var e=this;setTimeout(function(){g()(e.state.baseURL,{method:"GET"}).then(function(e){if(e.ok)return e;var t=new Error(e.statusText);throw t.response=e,t}).then(function(e){return e.json()}).then(function(t){console.log(t);var r=t[0].value;r.map(function(t){return e.state.workOrderNums.push(t.toString())}),e.setState({workOrderNums:r}),console.log("state var "+e.state.workOrderNums)}).catch(console.log)},200)}},{key:"componentDidMount",value:function(){}},{key:"GetWorkOrders",value:function(e){var t=this;e.preventDefault();var r=JSON.stringify([this.state.orderFrom.toString(),this.state.orderTo.toString(),this.state.selectedState]);return console.log("in change function "+this.state.selectedState),g()(this.state.baseURL,{method:"POST",body:r,headers:{"Content-Type":"application/json"}}).then(function(e){if(e.ok)return e;var t=new Error(e.statusText);throw t.response=e,t}).then(function(e){return e.json()}).then(function(e){(console.log(e),0===e.length)?(t.setState({returnedWorkOrders:[],orderFrom:"",orderTo:"",selectedState:"In Progress"}),alert("There are no work orders in that range for the given status.\nPlease try again with different values.")):(t.setState({returnedWorkOrders:[]}),e.map(function(e){return t.state.returnedWorkOrders.push(e.value)}),t.setState({returnedWorkOrders:t.state.returnedWorkOrders,orderFrom:"",orderTo:"",selectedState:"In Progress"}),console.log(t.state.returnedWorkOrders))}).catch(console.log),!1}},{key:"PrintWorkOrders",value:function(e){e.preventDefault(),w.a.serverUrl="https://vwp.jsreportonline.net";var t={template:{name:"/WorkOrders/workOrders"},data:{workOrders:this.state.returnedWorkOrders},express:{inputRequestLimit:"500mb"}};return w.a.headers.Authorization="Basic dmVyYTp2ZXJhd2F0ZXJhbmRwb3dlcg==",w.a.renderAsync(t).then(function(e){console.log(e);var t='<html><style>html,body {padding:0;margin:0;} iframe {width:100%;height:100%;border:0}</style><body><iframe type="application/pdf" src="'+e.toDataURI()+'"></iframe></body></html>',r=window.open("about:blank","Report");r.document.write(t),r.document.close()}),!1}},{key:"getPDFs",value:function(){}},{key:"render",value:function(){var e=this,t=this.state.returnedWorkOrders.map(function(e){return a.a.createElement("tr",{key:e.woNumber},a.a.createElement("td",null,e.woNumber),a.a.createElement("td",null,e.creator),a.a.createElement("td",null,e.priority),a.a.createElement("td",null,e.description))});return a.a.createElement("div",null,a.a.createElement("header",null,a.a.createElement("h1",null,"Work Orders")),a.a.createElement(m.b,null,a.a.createElement(m.c,null,a.a.createElement(m.d,{type:"select",value:this.state.selectedState,onChange:function(t){return e.setState({selectedState:t.target.value})}},a.a.createElement("option",{value:"Status options",header:!0},"Status options"),a.a.createElement("option",{value:"New"},"New"),a.a.createElement("option",{value:"Not Started"},"Not Started"),a.a.createElement("option",{value:"In Progress"},"In Progress"),a.a.createElement("option",{value:"Completed"},"Completed"),a.a.createElement("option",{value:"Closed"},"Closed"),a.a.createElement("option",{value:"Void"},"Void"))),a.a.createElement(m.c,null,a.a.createElement(m.e,{for:"FromOrder"},"Start"),a.a.createElement(m.d,{id:"FromOrder",type:"text",value:this.state.orderFrom,onChange:function(t){return e.setState({orderFrom:t.target.value})}})),a.a.createElement(m.c,null,a.a.createElement(m.e,{for:"ToOrder"},"End"),a.a.createElement(m.d,{id:"ToOrder",type:"text",value:this.state.orderTo,onChange:function(t){return e.setState({orderTo:t.target.value})}})),a.a.createElement(m.a,{type:"submit",onClick:function(t){return e.GetWorkOrders(t)}},"Get Work Orders"),a.a.createElement(m.a,{type:"submit",onClick:function(t){return e.PrintWorkOrders(t)}},"Print")),a.a.createElement("div",null,a.a.createElement("h4",null,"Work Orders"),a.a.createElement(m.j,{bordered:!0,dark:!0,hover:!0},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("td",null,"W.O. Number"),a.a.createElement("td",null,"Creator"),a.a.createElement("td",null,"Priority"),a.a.createElement("td",null,"Description"))),a.a.createElement("tbody",null,t))))}}]),t}(n.Component),E=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"container"},a.a.createElement(m.i,{light:!0},a.a.createElement(b,null)),a.a.createElement(p.a,null,a.a.createElement(h.c,null,a.a.createElement(h.a,{path:"/",component:k}))))}}]),t}(n.Component),y=Object(h.f)(E),j=(r(53),function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return a.a.createElement(p.a,null,a.a.createElement("div",{className:"App"},a.a.createElement(y,null)))}}]),t}(n.Component));r(31),r(54),r(55),r(56),r(57),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var S=r(17),W={tenant:"ebba2929-765b-48f7-8c03-9b450ed099ba",clientId:"525a6f4c-451c-436e-ab49-0d8c44303961",endpoints:{api:"525a6f4c-451c-436e-ab49-0d8c44303961"},apiUrl:"https://apiarytest-react-workmanagement.azurewebsites.net",cacheLocation:"localStorage"},C=new S.AuthenticationContext(W);Object(S.withAdalLogin)(C,W.endpoints.api);Object(S.runWithAdal)(C,function(){l.a.render(a.a.createElement(j,null),document.getElementById("root"))},!1),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[35,1,2]]]);
//# sourceMappingURL=main.2d8b05b9.chunk.js.map